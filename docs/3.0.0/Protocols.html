<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Protocols  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/Protocols" class="dashAnchor"></a>

    <a title="Protocols  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Katana Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/BendingSpoons/katana-swift">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Katana Reference</a>
      <img class="carat" src="img/carat.png" />
      Protocols  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/EmptySideEffectDependencyContainer.html">EmptySideEffectDependencyContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PartialStore.html">PartialStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Store.html">Store</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AsyncActionState.html">AsyncActionState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Promise.html">Promise</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:6Katana23middlewareToInterceptoryyAA12Dispatchable_pKcyAaC_pKccAA20AnySideEffectContext_pcyAaC_pcyAaC_pccAA5State_pyc_yAA6Action_pctcF">middlewareToInterceptor(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Action.html">Action</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ActionWithSideEffect.html">ActionWithSideEffect</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnyAsyncAction.html">AnyAsyncAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnySideEffect.html">AnySideEffect</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnySideEffectContext.html">AnySideEffectContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnyStateUpdater.html">AnyStateUpdater</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AnyStore.html">AnyStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/AsyncAction.html">AsyncAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DispatchObserverDispatchable.html">DispatchObserverDispatchable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Dispatchable.html">Dispatchable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/LinkeableAction.html">LinkeableAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/NotificationObserverDispatchable.html">NotificationObserverDispatchable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OnStartObserverDispatchable.html">OnStartObserverDispatchable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SideEffect.html">SideEffect</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SideEffectDependencyContainer.html">SideEffectDependencyContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/State.html">State</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StateObserverDispatchable.html">StateObserverDispatchable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StateUpdater.html">StateUpdater</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ActionLinker.html">ActionLinker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ActionLinks.html">ActionLinks</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ActionLogger.html">ActionLogger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DispatchableLogger.html">DispatchableLogger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ObserverInterceptor.html">ObserverInterceptor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ObserverInterceptor/ObserverType.html">â€“ ObserverType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SideEffectContext.html">SideEffectContext</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana8GetStatea">GetState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/PromisableStoreDispatch">PromisableStoreDispatch</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana13StoreDispatcha">StoreDispatch</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana16StoreInterceptora">StoreInterceptor</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana20StoreInterceptorNexta">StoreInterceptorNext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana13StoreListenera">StoreListener</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana15StoreMiddlewarea">StoreMiddleware</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana19StoreMiddlewareNexta">StoreMiddlewareNext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Katana16StoreUnsubscribea">StoreUnsubscribe</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>Protocols</h1>
            <p>The following protocols are available globally.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana12DispatchableP"></a>
                    <a name="//apple_ref/swift/Protocol/Dispatchable" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana12DispatchableP">Dispatchable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol that marks something that can be actually dispatched into the <code><a href="Classes/Store.html">Store</a></code>.
It doesn&rsquo;t have any particular requirement, and the protocol is actually used to
simply mark a category of items. Currently the <code><a href="Classes/Store.html">Store</a></code> is able to manage 3 types
of <code>Dispatchable</code>: <code><a href="Protocols/SideEffect.html">SideEffect</a></code>, <code><a href="Protocols/StateUpdater.html">StateUpdater</a></code> and <code><a href="Protocols/Action.html">Action</a></code> (deprecated).</p>

                        <a href="Protocols/Dispatchable.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Dispatchable</span> <span class="p">:</span> <span class="kt">CustomDebugStringConvertible</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Dispatchable.swift#L17">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana32NotificationObserverDispatchableP"></a>
                    <a name="//apple_ref/swift/Protocol/NotificationObserverDispatchable" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana32NotificationObserverDispatchableP">NotificationObserverDispatchable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol implemented by a dispatchable that wants to be dispatched in response to a notification</p>

                        <a href="Protocols/NotificationObserverDispatchable.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">NotificationObserverDispatchable</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Interceptor/ObserverInterceptor.swift#L14-L24">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana25StateObserverDispatchableP"></a>
                    <a name="//apple_ref/swift/Protocol/StateObserverDispatchable" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana25StateObserverDispatchableP">StateObserverDispatchable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol implemented by a dispatchable that wants to be dispatched in response to a change of the state</p>

                        <a href="Protocols/StateObserverDispatchable.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">StateObserverDispatchable</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Interceptor/ObserverInterceptor.swift#L29-L40">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana28DispatchObserverDispatchableP"></a>
                    <a name="//apple_ref/swift/Protocol/DispatchObserverDispatchable" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana28DispatchObserverDispatchableP">DispatchObserverDispatchable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol implemented by a dispatchable that wants to be dispatched in response to the dispatch of another dispatchable</p>

                        <a href="Protocols/DispatchObserverDispatchable.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">DispatchObserverDispatchable</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Interceptor/ObserverInterceptor.swift#L45-L57">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana27OnStartObserverDispatchableP"></a>
                    <a name="//apple_ref/swift/Protocol/OnStartObserverDispatchable" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana27OnStartObserverDispatchableP">OnStartObserverDispatchable</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol implemented by a dispatchable that wants to be dispatched when the store starts</p>

                        <a href="Protocols/OnStartObserverDispatchable.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">OnStartObserverDispatchable</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Interceptor/ObserverInterceptor.swift#L62-L71">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana6ActionP"></a>
                    <a name="//apple_ref/swift/Protocol/Action" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana6ActionP">Action</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>An action represents an event that leads to a change in the state of the application.
It can be triggered from a user action, from a system event or any event in general.</p>

                        <a href="Protocols/Action.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available(*, deprecated, message: "Use AnyStateUpdater instead")</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Action</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Legacy/Action.swift#L16-L31">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana20ActionWithSideEffectP"></a>
                    <a name="//apple_ref/swift/Protocol/ActionWithSideEffect" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana20ActionWithSideEffectP">ActionWithSideEffect</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code><a href="Protocols/Action.html">Action</a></code> can implement this protocol to perform side effects when an instance is
dispatched.</p>

<p>A side effect is nothing more than a piece of code that can interact with external
services or APIs (e.g., make a network request, get information from the disk and so on).
Side effects are needed because the <code>updatedState(currentState:)</code> function (which is the only other operation
that is performed when an action is dispatched) must be pure and therefore it cannot
interact with disk, network and so on.</p>
<h3 id='dependencies' class='heading'>Dependencies</h3>

<p>You can see from the <code>sideEffect(currentState:previousState:dispatch:dependencies:)</code> signature that
a side effect takes as input some dependencies. This is a form of dependency injection
for the side effects. By using only methods coming from the dependencies (instead of relying on
global imports), testing is much more easier since you can inject a mocked version
of the things you need in the side effect. For example, in a test, you may want to
inject a mocked version of the class that manages the API requests, in order to control
the result of the network call.</p>

                        <a href="Protocols/ActionWithSideEffect.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available(*, deprecated, message: "Use AnySideEffect instead")</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ActionWithSideEffect</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Action.html">Action</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Legacy/ActionWithSideEffect.swift#L31-L49">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana14AnyAsyncActionP"></a>
                    <a name="//apple_ref/swift/Protocol/AnyAsyncAction" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana14AnyAsyncActionP">AnyAsyncAction</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Type Erasure for <code><a href="Protocols/AsyncAction.html">AsyncAction</a></code></p>

                        <a href="Protocols/AnyAsyncAction.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available(*, deprecated, message: "Use AnySideEffect or AnyStateUpdater instead")</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AnyAsyncAction</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Legacy/AsyncAction.swift#L76-L80">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana11AsyncActionP"></a>
                    <a name="//apple_ref/swift/Protocol/AsyncAction" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana11AsyncActionP">AsyncAction</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol that represents an <code>async</code> action.</p>

<p>An <code>AsyncAction</code> is just an abstraction over <code><a href="Protocols/Action.html">Action</a></code> that provides a way to structure
your action.</p>

<p>You typically use an <code>Async</code> action when you have to deal with operations that are asynchronous.
In the most common scenario, you dispatch the initial action, execute an operation in the side effect 
and then dispatch a completed/failed action based on the result of the operation. If the action has a concept
of progress, you can also dispatch progress actions.</p>

<p>This protocol has as the main goal to standardize the way async actions are managed.</p>

<p>It is important to note that this is just a a convenience approach to something you can do anyway.
You can for instance create three actions: <code>performOperation</code>, <code>OperationCompleted</code> and <code>OperationFailed</code> and achieve
the same result. <code>AsyncAction</code> just provide a way to abstract and simplify the process</p>
<h4 id='tip-amp-tricks' class='heading'>Tip &amp; Tricks</h4>

<p>Since the <code><a href="Protocols/Action.html">Action</a></code> protocol is very generic when it comes to the state type that should be updated, a pattern
we want to promote is to put in your application a protocol like the following:</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">AppAsyncAction</span><span class="p">:</span> <span class="kt">AsyncAction</span> <span class="p">{</span>
 <span class="kd">func</span> <span class="nf">updatedStateForLoading</span><span class="p">(</span><span class="nv">currentState</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">AppState</span><span class="p">)</span>
 <span class="c1">// same for completed, failed and progress</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">AppAsyncAction</span> <span class="p">{</span>
 <span class="kd">func</span> <span class="nf">updatedStateForLoading</span><span class="p">(</span><span class="nv">currentState</span><span class="p">:</span> <span class="kt">State</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">State</span> <span class="p">{</span>
   <span class="k">guard</span> <span class="k">var</span> <span class="nv">state</span> <span class="o">=</span> <span class="n">state</span> <span class="k">as?</span> <span class="kt">AppState</span> <span class="k">else</span> <span class="p">{</span>
     <span class="nf">fatalError</span><span class="p">(</span><span class="s">"Something went wrong"</span><span class="p">)</span>
   <span class="p">}</span>

   <span class="k">self</span><span class="o">.</span><span class="nf">updatedStateForLoading</span><span class="p">(</span><span class="nv">currentState</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">state</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">state</span>
 <span class="p">}</span>

 <span class="c1">// same for completed, failed and progress</span>
<span class="p">}</span>
</code></pre>

<p>In this way you can save a lot of code since you can use your actions in the following way</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">A</span><span class="p">:</span> <span class="kt">AppAsyncAction</span> <span class="p">{</span>
 <span class="kd">func</span> <span class="nf">updatedStateForLoading</span><span class="p">(</span><span class="nv">currentState</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">AppState</span><span class="p">)</span> <span class="p">{</span>
   <span class="n">state</span><span class="o">.</span><span class="n">props</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">payload</span>
 <span class="p">}</span>

 <span class="c1">// same for completed, failed and progress</span>
<span class="p">}</span>
</code></pre>

                        <a href="Protocols/AsyncAction.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available(*, deprecated, message: "Use SideEffect or StateUpdater instead")</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AsyncAction</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Action.html">Action</a></span><span class="p">,</span> <span class="kt"><a href="Protocols/AnyAsyncAction.html">AnyAsyncAction</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Legacy/AsyncAction.swift#L136-L201">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana15LinkeableActionP"></a>
                    <a name="//apple_ref/swift/Protocol/LinkeableAction" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana15LinkeableActionP">LinkeableAction</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol to identify a linked action that must be dispatched after another action, 
called source, is dispatched by the Store.</p>

                        <a href="Protocols/LinkeableAction.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@available(*, deprecated, message: "Use DispatchObserverDispatchable instead")</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">LinkeableAction</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Action.html">Action</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Legacy/Middleware/ActionLinker/LinkeableAction.swift#L16-L53">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana20AnySideEffectContextP"></a>
                    <a name="//apple_ref/swift/Protocol/AnySideEffectContext" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana20AnySideEffectContextP">AnySideEffectContext</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Type erasure for <code><a href="Structs/SideEffectContext.html">SideEffectContext</a></code></p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Structs/SideEffectContext.html">SideEffectContext</a></code>

</div>

                        <a href="Protocols/AnySideEffectContext.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AnySideEffectContext</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/SideEffect.swift#L17-L37">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana13AnySideEffectP"></a>
                    <a name="//apple_ref/swift/Protocol/AnySideEffect" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana13AnySideEffectP">AnySideEffect</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Type erasure for <code><a href="Protocols/SideEffect.html">SideEffect</a></code></p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Protocols/SideEffect.html">SideEffect</a></code>

</div>

                        <a href="Protocols/AnySideEffect.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AnySideEffect</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/SideEffect.swift#L124-L132">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana10SideEffectP"></a>
                    <a name="//apple_ref/swift/Protocol/SideEffect" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana10SideEffectP">SideEffect</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A side effect is a single atom of the logic of your application.
 While you can actually use them as you desire, the idea is to implement in each side effect
 a meaningful, self contained, piece of logic that can be used from other pieces of you application
 (e.g., dispatched by a View Controller or by another side effect).</p>

<p>The <code><a href="Protocols/StateUpdater.html">StateUpdater</a></code> is strongly tied to the state that it handles and the dependencies it has.
 This greatily simplifies the code written in normal situations.
 However, if you need to create updaters that are not strictly tied to a concrete types (e.g., in a library)
 you can use <code><a href="Protocols/AnySideEffect.html">AnySideEffect</a></code>.</p>

<p>### App Tips &amp; Tricks
To further simplify the usage of a <code><a href="Protocols/StateUpdater.html">StateUpdater</a></code> you can add to your application a helper protocol</p>
<pre class="highlight swift"><code> <span class="c1">/// assuming `AppState` is the type of your application's state and `DependenciesContainer` is the</span>
 <span class="c1">/// container of your dependencies</span>
 <span class="kd">protocol</span> <span class="kt">AppSideEffect</span><span class="p">:</span> <span class="kt">SideEffect</span> <span class="k">where</span> <span class="kt">StateType</span> <span class="o">==</span> <span class="kt">AppState</span><span class="p">,</span> <span class="kt">Dependencies</span> <span class="o">==</span> <span class="kt">DependenciesContainer</span> <span class="p">{}</span>
</code></pre>

<p>By conforming to <code>AppSideEffect</code>, you will get better autocompletion</p>

                        <a href="Protocols/SideEffect.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">SideEffect</span> <span class="p">:</span> <span class="kt"><a href="Protocols/AnySideEffect.html">AnySideEffect</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/SideEffect.swift#L155-L194">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana29SideEffectDependencyContainerP"></a>
                    <a name="//apple_ref/swift/Protocol/SideEffectDependencyContainer" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana29SideEffectDependencyContainerP">SideEffectDependencyContainer</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol that the side effect dependencies container should implement</p>

                        <a href="Protocols/SideEffectDependencyContainer.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">SideEffectDependencyContainer</span> <span class="p">:</span> <span class="kt">AnyObject</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/SideEffectDependencyContainer.swift#L12-L22">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana5StateP"></a>
                    <a name="//apple_ref/swift/Protocol/State" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana5StateP">State</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Protocol for the state of the applications.
In Katana, all the relevant application information should be placed in a single
struct that has to implement the <code>State</code> protocol.</p>

                        <a href="Protocols/State.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">State</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/State.swift#L16-L22">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana15AnyStateUpdaterP"></a>
                    <a name="//apple_ref/swift/Protocol/AnyStateUpdater" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana15AnyStateUpdaterP">AnyStateUpdater</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Type erasure for <code><a href="Protocols/StateUpdater.html">StateUpdater</a></code></p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Protocols/StateUpdater.html">StateUpdater</a></code>

</div>

                        <a href="Protocols/AnyStateUpdater.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AnyStateUpdater</span> <span class="p">:</span> <span class="kt"><a href="Protocols/Dispatchable.html">Dispatchable</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/StateUpdater.swift#L16-L24">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana12StateUpdaterP"></a>
                    <a name="//apple_ref/swift/Protocol/StateUpdater" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana12StateUpdaterP">StateUpdater</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>StateUpdater</code> is a <code><a href="Protocols/Dispatchable.html">Dispatchable</a></code> that can be used to update the <code><a href="Classes/Store.html">Store</a></code>
state configuration.</p>

<p>The <code>StateUpdater</code> is strongly tied to the state that it handles. This greatily simplifies
the code written in normal situations. However, if you need to create updaters that are not strictly
tied to a concrete state type (e.g., in a library) you can use <code><a href="Protocols/AnyStateUpdater.html">AnyStateUpdater</a></code>.</p>
<h3 id='app-tips-amp-tricks' class='heading'>App Tips &amp; Tricks</h3>

<p>To futherly simplify the usage of a <code>StateUpdater</code> you can add to your application an helper protocol</p>
<pre class="highlight swift"><code><span class="c1">/// assuming `AppState` is the type of your application's state</span>
<span class="kd">protocol</span> <span class="kt">AppStateUpdater</span><span class="p">:</span> <span class="kt">StateUpdater</span> <span class="k">where</span> <span class="kt">StateType</span> <span class="o">==</span> <span class="kt">AppState</span> <span class="p">{}</span>
</code></pre>

<p>By conforming to <code>AppStateUpdater</code>, you will get better autocompletion</p>

                        <a href="Protocols/StateUpdater.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">StateUpdater</span> <span class="p">:</span> <span class="kt"><a href="Protocols/AnyStateUpdater.html">AnyStateUpdater</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/StateUpdater.swift#L43-L58">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana8AnyStoreP"></a>
                    <a name="//apple_ref/swift/Protocol/AnyStore" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana8AnyStoreP">AnyStore</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Type Erasure for <code><a href="Classes/Store.html">Store</a></code></p>

                        <a href="Protocols/AnyStore.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">AnyStore</span> <span class="p">:</span> <span class="kt">AnyObject</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/blob/master//Katana/Store.swift#L13-L34">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="http://bendingspoons.com" target="_blank" rel="external">Bending Spoons Team</a>. All rights reserved. (Last updated: 2019-01-03)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
