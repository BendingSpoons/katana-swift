<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ActionWithSideEffect Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/ActionWithSideEffect" class="dashAnchor"></a>
    <a title="ActionWithSideEffect Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Katana Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/BendingSpoons/katana-swift"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Katana Reference</a>
        <img id="carat" src="../img/carat.png" />
        ActionWithSideEffect Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/EmptySideEffectDependencyContainer.html">EmptySideEffectDependencyContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Store.html">Store</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/AsyncActionState.html">AsyncActionState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/Action.html">Action</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ActionWithSideEffect.html">ActionWithSideEffect</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/AnyAsyncAction.html">AnyAsyncAction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/AnyStore.html">AnyStore</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/AsyncAction.html">AsyncAction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/LinkeableAction.html">LinkeableAction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SideEffectDependencyContainer.html">SideEffectDependencyContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/State.html">State</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/ActionLinker.html">ActionLinker</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ActionLinks.html">ActionLinks</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Katana13StoreDispatcha">StoreDispatch</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Katana13StoreListenera">StoreListener</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Katana15StoreMiddlewarea">StoreMiddleware</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:6Katana16StoreUnsubscribea">StoreUnsubscribe</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>ActionWithSideEffect</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ActionWithSideEffect</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Action.html">Action</a></span></code></pre>

                </div>
              </div>
            <p><code><a href="../Protocols/Action.html">Action</a></code> can implement this protocol to perform side effects when an instance is
dispatched.</p>

<p>A side effect is nothing more than a piece of code that can interact with external
services or APIs (e.g., make a network request, get information from the disk and so on).
Side effects are needed because the <code>updatedState(currentState:)</code> function (which is the only other operation
that is performed when an action is dispatched) must be pure and therefore it cannot
interact with disk, network and so on.</p>
<h3 id='dependencies' class='heading'>Dependencies</h3>

<p>You can see from the <code>sideEffect(currentState:previousState:dispatch:dependencies:)</code> signature that
a side effect takes as input some dependencies. This is a form of dependency injection
for the side effects. By using only methods coming from the dependencies (instead of relying on
global imports), testing is much more easier since you can inject a mocked version
of the things you need in the side effect. For example, in a test, you may want to
inject a mocked version of the class that manages the API requests, in order to control
the result of the network call.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Katana20ActionWithSideEffectP04sideE0yAA5State_p07currentG0_AaE_p08previousG0yAA0B0_pc8dispatchAA0dE19DependencyContainer_p12dependenciestF"></a>
                    <a name="//apple_ref/swift/Method/sideEffect(currentState:previousState:dispatch:dependencies:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Katana20ActionWithSideEffectP04sideE0yAA5State_p07currentG0_AaE_p08previousG0yAA0B0_pc8dispatchAA0dE19DependencyContainer_p12dependenciestF">sideEffect(currentState:previousState:dispatch:dependencies:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Performs the side effect. This method is invoked when the action is dispatched,
after the <code>updateState(currentState:action:)</code> function.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">sideEffect</span><span class="p">(</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>currentState</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the current state. The one returned by the
                         <code>updateState(currentState:action:)</code> method</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>previousState</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the state of the store before the <code>updateState(currentState:action:)</code>
                         invokation</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>dispatch</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>a closure that can be used to dispatch new actions</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>dependencies</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the dependencies of the side effect</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/BendingSpoons/katana-swift/tree/1.1.0/Katana/ActionWithSideEffect.swift#L42">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="http://bendingspoons.com" target="_blank" rel="external">Bending Spoons Team</a>. All rights reserved. (Last updated: 2018-07-03)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
